<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>GLD/SPXL 履歴グラフ</title>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Luxon -->
  <script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>
  <!-- Chart.js Luxon adapter -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1"></script>
  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .chart-container { width: 100%; max-width: 800px; margin-bottom: 40px; }
    label { display: block; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>PayPayポイント運用グラフ（履歴表示）</h1>

  <!-- CSVファイル選択 -->
  <label>GLD履歴CSV: <input type="file" onchange="loadCSVData(this.files[0], 'GLD')"></label>
  <label>SPXL履歴CSV: <input type="file" onchange="loadCSVData(this.files[0], 'SPXL')"></label>

  <!-- 売買履歴手動入力フォーム -->
  <h2>売買履歴を手動入力</h2>
  <form onsubmit="addTradeMarker(event)">
    <label>日付: <input type="date" id="tradeDate" required></label>
    <label>種別: 
      <select id="tradeType">
        <option value="Buy">Buy</option>
        <option value="Sell">Sell</option>
      </select>
    </label>
    <label>金額: <input type="number" id="tradeAmount" required></label>
    <button type="submit">追加</button>
  </form>

  <!-- グラフ表示領域 -->
  <div class="chart-container">
    <canvas id="gldChart"></canvas>
  </div>
  <div class="chart-container">
    <canvas id="spxlChart"></canvas>
  </div>

  <!-- 外部JavaScript -->
  <script src="script.js"></script>
</body>
</html>
